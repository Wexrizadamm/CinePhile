import{l as w,m as x,n as I,p as B,d as y,r as V,e as $,q as C,a as s,i as p,w as D,f as _,c,s as g,g as n,v as T,t as d,F as U,h as F,x as N,k as u,j as k,y as S,b as v,T as z,_ as b,z as E,A as L,o as R,B as j}from"./index-22adb7ce.js";const M=w("videos",{state:()=>({movie:null,tv:null}),actions:{async getVideos(t,o){try{const e=(await x({method:"GET",url:`${I}/${t}/${o}/videos?language=en-US`,headers:B})).data.results;t=="movie"?this.movie=e[e.length-1]:this.tv=e[e.length-1]}catch{console.error("Error in videos.js")}}}}),Y={key:0,class:"content-id__intro"},q={alt:"",class:"content-id__intro-background"},A={class:"content-id__intro-block"},G={class:"content-id__intro-left"},H={class:"content-id__intro-left-title"},J={class:"content-id__intro-left-overview"},K={class:"content-id__intro-left-data"},O={key:0},P={class:"runtime"},Q=n("i",{class:"fa fa-play"},null,-1),W=n("span",null,"Смотерть трейлер",-1),X=[Q,W],Z={class:"content-id__intro-right"},tt={alt:""},et={class:"content-id__intro-actors"},nt=n("h2",{class:"content-id__intro-actors-title"},"В главных ролях",-1),ot={class:"content-id__intro-actors-cast"},st={key:1,class:"content-id__intro"},it=["src"],ct=n("i",{class:"fal fa-times"},null,-1),at=[ct],lt={__name:"IntroId",props:["type","content","video"],setup(t){const o=t,a=y(()=>{let l=o.content.runtime%60,i=Math.floor(o.content.runtime/60);return i?`${i}ч ${l}м`:`${l}м`});let e=V(!1);return(l,i)=>{const m=$("actors"),h=C("lazy");return s(),p(z,{name:"content-id__intro",mode:"out-in"},{default:D(()=>[t.content&&!_(e)?(s(),c("div",Y,[g(n("img",q,null,512),[[h,_(T)+t.content.backdrop_path]]),n("div",A,[n("div",G,[n("h1",H,d(t.content.title||t.content.name),1),n("p",J,d(t.content.overview),1),n("p",K,[n("span",null,d(new Date(t.content.first_air_date||t.content.release_date).getFullYear())+", ",1),(s(!0),c(U,null,F(t.content.genres,(r,f)=>(s(),c("span",{key:r.id},[N(d(r.name),1),f<t.content.genres.length-1?(s(),c("span",O,", ")):u("",!0)]))),128)),n("span",P,d(t.content.runtime?a.value:""),1)]),t.video?(s(),c("button",{key:0,class:"content-id__intro-left-btn",onClick:i[0]||(i[0]=r=>k(e)?e.value=!0:e=!0)},X)):u("",!0)]),n("div",Z,[g(n("img",tt,null,512),[[h,_(S)+t.content.poster_path]])]),n("div",et,[nt,n("div",ot,[v(m,{type:t.type,id:t.content.id,count:6},null,8,["type","id"])])])])])):_(e)?(s(),c("div",st,[t.video?(s(),c("iframe",{key:0,src:`https://www.youtube.com/embed/${t.video.key}?rel=0&showinfo=0`,title:"YouTube video player",frameborder:"0",allowfullscreen:""},null,8,it)):u("",!0),n("button",{class:"content-id__intro-close",onClick:i[1]||(i[1]=r=>k(e)?e.value=!1:e=!1)},at)])):u("",!0)]),_:1})}}},rt={},dt={class:"content-id__budget"};function _t(t,o){return s(),c("div",dt)}const ut=b(rt,[["render",_t]]),vt={},mt={class:"content-id__recom"};function ht(t,o){return s(),c("div",mt)}const ft=b(vt,[["render",ht]]),yt={key:0,class:"content-id"},kt={__name:"ContentId",props:["type"],setup(t){const o=t,a=E(),e=M(),l=L(),i=y(()=>o.type=="movie"?a.movieId:a.tvId),m=y(()=>o.type=="movie"?e.movie:e.tv);return R(()=>{setTimeout(()=>{a.getDetails(o.type,l.params.id),e.getVideos(o.type,l.params.id)},500)}),j(()=>{o.type=="movie"?a.movieId=null:a.tvId=null,o.type=="movie"?e.movie=null:e.tv=null}),(h,r)=>{const f=$("Loader");return i.value?(s(),c("section",yt,[v(lt,{type:t.type,content:i.value,video:m.value},null,8,["type","content","video"]),v(ut,{content:i.value},null,8,["content"]),v(ft)])):(s(),p(f,{key:1}))}}};export{kt as _};
//# sourceMappingURL=ContentId-2c7e2b75.js.map
