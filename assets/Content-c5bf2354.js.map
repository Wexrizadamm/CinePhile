{"version":3,"file":"Content-c5bf2354.js","sources":["../../src/components/Content/Content.vue"],"sourcesContent":["<template>\r\n  <section class=\"content\" v-if=\"contentArray.length > 0\">\r\n    <div class=\"container\">\r\n      <h2 class=\"content__title\">\r\n        {{ type == \"movie\" ? \"Все фильмы\" : \"Все сериалы\" }}\r\n      </h2>\r\n      <div class=\"content__list\">\r\n        <ContentItem\r\n          v-for=\"content in contentArray\"\r\n          :key=\"content.id\"\r\n          :content=\"content\"\r\n          :type=\"type\"\r\n        />\r\n      </div>\r\n      <div class=\"content__pagination\">\r\n        <vue-awesome-paginate\r\n          :total-items=\"totalItem\"\r\n          :items-per-page=\"20\"\r\n          :max-page-shown=\"5\"\r\n          v-model=\"page\"\r\n          :on-click=\"getContent\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </section>\r\n  <Loader v-if=\"contentArray.length < 1 || loading\" />\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, getCurrentInstance, onMounted, ref } from \"vue\";\r\nimport { usePopular } from \"@/stores/popular\";\r\nimport ContentItem from \"@/components/UI/ContentItem.vue\";\r\n\r\nconst popularStore = usePopular();\r\nconst props = defineProps([\"type\"]);\r\nlet page = ref(1);\r\nlet contentArray = ref([]);\r\nlet loading = ref(false);\r\nconst totalItem = computed(() => popularStore.totalResults);\r\n\r\nconst getContent = async () => {\r\n  if (!loading.value) {\r\n    loading.value = true;\r\n    contentArray.value = [];\r\n    await popularStore.getPopular(props.type, page.value);\r\n    let state = props.type == \"movie\" ? popularStore.movie : popularStore.tv;\r\n    contentArray.value.push(...state);\r\n    loading.value = false;\r\n    page.value + 1;\r\n    scrollTo({\r\n      behavior: \"smooth\",\r\n      top: 0,\r\n    });\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  getContent();\r\n  scrollTo({\r\n    behavior: \"smooth\",\r\n    top: 0,\r\n  });\r\n});\r\n</script>\r\n"],"names":["popularStore","usePopular","page","ref","contentArray","loading","totalItem","computed","getContent","props","state","onMounted"],"mappings":"2XAiCMA,EAAeC,EAAU,EAE/B,IAAIC,EAAOC,EAAI,CAAC,EACZC,EAAeD,EAAI,CAAA,CAAE,EACrBE,EAAUF,EAAI,EAAK,EACvB,MAAMG,EAAYC,EAAS,IAAMP,EAAa,YAAY,EAEpDQ,EAAa,SAAY,CAC7B,GAAI,CAACH,EAAQ,MAAO,CAClBA,EAAQ,MAAQ,GAChBD,EAAa,MAAQ,GACrB,MAAMJ,EAAa,WAAWS,EAAM,KAAMP,EAAK,KAAK,EACpD,IAAIQ,EAAQD,EAAM,MAAQ,QAAUT,EAAa,MAAQA,EAAa,GACtEI,EAAa,MAAM,KAAK,GAAGM,CAAK,EAChCL,EAAQ,MAAQ,GAChBH,EAAK,MAAQ,EACb,SAAS,CACP,SAAU,SACV,IAAK,CACX,CAAK,EAEL,EAEA,OAAAS,EAAU,IAAM,CACdH,IACA,SAAS,CACP,SAAU,SACV,IAAK,CACT,CAAG,CACH,CAAC"}